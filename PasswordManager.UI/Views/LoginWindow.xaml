<Window x:Class="PasswordManager.UI.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Password Manager - Login" 
        Height="580" Width="800"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}">
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="400"/>
        </Grid.ColumnDefinitions>

        <!-- Left Panel - Branding -->
        <Border Grid.Column="0" Background="{StaticResource PrimaryBrush}">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="ðŸ”" FontSize="72" HorizontalAlignment="Center" Margin="0,0,0,20"/>
                <TextBlock Text="Password Manager" 
                          FontSize="32" 
                          FontWeight="Bold" 
                          Foreground="White"
                          HorizontalAlignment="Center"/>
                <TextBlock Text="Secure. Simple. Modern." 
                          FontSize="16" 
                          Foreground="#93C5FD"
                          HorizontalAlignment="Center"
                          Margin="0,10,0,0"/>
            </StackPanel>
        </Border>

        <!-- Right Panel - Login Form -->
        <Border Grid.Column="1" Background="{StaticResource SurfaceBrush}">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel x:Name="MainFormPanel" VerticalAlignment="Center" Margin="40">
                    <TextBlock Text="Welcome Back" 
                              FontSize="24" 
                              FontWeight="Bold" 
                              Foreground="{StaticResource TextBrush}"
                              Margin="0,0,0,10"/>
                    <TextBlock Text="Select your account to continue" 
                              FontSize="14" 
                              Foreground="{StaticResource SecondaryBrush}"
                              Margin="0,0,0,30"/>

                    <!-- User Selection -->
                    <TextBlock Text="Account" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <ComboBox x:Name="UserComboBox" 
                             Style="{StaticResource ModernComboBox}"
                             DisplayMemberPath="Username"
                             Margin="0,0,0,20"/>

                    <!-- Password -->
                    <TextBlock Text="Password" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <PasswordBox x:Name="PasswordBox" 
                                Style="{StaticResource ModernPasswordBox}"
                                Margin="0,0,0,10"/>

                    <Button Content="Use Master Key" Style="{StaticResource IconButton}" Click="UseMasterKey_Click" HorizontalAlignment="Left" Margin="0,0,0,12"/>

                    <!-- Error Message -->
                    <TextBlock x:Name="ErrorText" 
                              Foreground="{StaticResource DangerBrush}"
                              TextWrapping="Wrap"
                              Margin="0,0,0,20"
                              Visibility="Collapsed"/>

                    <!-- Login Button -->
                    <Button Content="Sign In" 
                          Style="{StaticResource PrimaryButton}"
                          Click="LoginButton_Click"
                          Margin="0,0,0,20"/>

                    <!-- Create Account Button -->
                    <Button x:Name="CreateAccountButton" Content="Create New Account" 
                           Style="{StaticResource SecondaryButton}"
                           Click="CreateAccountButton_Click"
                           HorizontalAlignment="Stretch" Height="40"/>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Overlay host for Create Account control - spans full window -->
        <Border x:Name="CreateAccountOverlay" Grid.ColumnSpan="2" Background="#80000000" Visibility="Collapsed">
            <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled"
                          MaxHeight="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType=Window}}">
                <ContentControl x:Name="CreateAccountHost" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,20"/>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>
